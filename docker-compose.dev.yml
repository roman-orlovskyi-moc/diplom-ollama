# Development version with hot reload
services:
  ollama:
    extends:
      file: docker-compose.yml
      service: ollama

  app:
    extends:
      file: docker-compose.yml
      service: app
    volumes:
      # Mount entire project for development
      - .:/app
      # Exclude venv from host
      - /app/venv
    environment:
      - LLM_PROVIDER=ollama
      - OLLAMA_BASE_URL=http://ollama:11434
      - OLLAMA_MODEL=llama3.2
      - DATABASE_PATH=/app/data/results/test_results.db
      - LOG_LEVEL=DEBUG
      - FLASK_ENV=development
      - FLASK_DEBUG=True